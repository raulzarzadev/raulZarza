{"ast":null,"code":"import mongoose from 'mongoose';\n\nconst connectDB = handler => async (req, res) => {\n  if (mongoose.connections[0].readyState) {\n    // Use current db connection\n    return handler(req, res);\n  } // Use new db connection\n\n\n  await mongoose.connect(process.env.NEXT_PUBLIC_RZ_DB, {\n    useUnifiedTopology: true,\n    useFindAndModify: false,\n    useCreateIndex: true,\n    useNewUrlParser: true\n  });\n  return handler(req, res);\n};\n\nexport default connectDB;","map":null,"metadata":{},"sourceType":"module"}